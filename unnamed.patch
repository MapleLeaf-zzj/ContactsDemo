Index: app/src/main/res/xml/searchable.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/xml/searchable.xml	(revision )
+++ app/src/main/res/xml/searchable.xml	(revision )
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<searchable xmlns:android="http://schemas.android.com/apk/res/android"
+    android:hint="@string/name"
+    android:label="@string/app_name"/>
+
Index: app/src/main/res/layout/fragment_common_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_common_item.xml	(revision )
+++ app/src/main/res/layout/fragment_common_item.xml	(revision )
@@ -0,0 +1,26 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="horizontal"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:layout_marginTop="10dp">
+
+    <ImageView
+        android:scaleType="center"
+        android:background="@drawable/circle"
+        android:src="@drawable/ic_person_white_24dp"
+        android:layout_marginLeft="20dp"
+        android:id="@+id/img_item"
+        android:layout_width="40dp"
+        android:layout_height="40dp" />
+
+    <TextView
+        android:id="@+id/common_name"
+        android:layout_width="wrap_content"
+        android:layout_height="40dp"
+        android:text="aaa"
+        android:textSize="20dp"
+        android:layout_marginLeft="10dp"
+        android:gravity="center"/>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/strings.xml	(revision )
+++ app/src/main/res/values/strings.xml	(revision )
@@ -0,0 +1,14 @@
+<resources>
+    <string name="app_name">ContactsDemo</string>
+    <string name="action_settings">Settings</string>
+    <string name="name">查找联系人</string>
+    <string name="fab_name">姓名</string>
+    <string name="fab_phone">电话</string>
+    <string name="phone">手机</string>
+    <string name="more">更多</string>
+
+    <string-array name="tab_title">
+        <item>常用</item>
+        <item>全部</item>
+    </string-array>
+</resources>
Index: app/src/main/res/layout/fragment_all.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_all.xml	(revision )
+++ app/src/main/res/layout/fragment_all.xml	(revision )
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical" android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+   <android.support.v7.widget.RecyclerView
+       android:id="@+id/all_recyclerView"
+       android:layout_width="match_parent"
+       android:layout_height="match_parent">
+
+   </android.support.v7.widget.RecyclerView>
+
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/dell/contactsdemo/UpdateActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/UpdateActivity.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/UpdateActivity.java	(revision )
@@ -0,0 +1,91 @@
+package com.example.dell.contactsdemo;
+
+import android.content.Context;
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.Toolbar;
+import android.util.Log;
+import android.view.Menu;
+import android.view.MenuItem;
+import android.view.View;
+import android.widget.EditText;
+import android.widget.ImageView;
+import android.widget.Toast;
+
+import com.example.dell.contactsdemo.Utils.ContactUtil;
+import com.example.dell.contactsdemo.entity.Contact;
+
+import butterknife.ButterKnife;
+import butterknife.InjectView;
+
+/**
+ * Created by dell on 2016/4/12.
+ */
+public class UpdateActivity extends AppCompatActivity {
+    @InjectView(R.id.ud_toolbar)
+    Toolbar udToolbar;
+    @InjectView(R.id.fab_image)
+    ImageView fabImage;
+    @InjectView(R.id.update_imageview)
+    ImageView updateImageview;
+    @InjectView(R.id.update_name)
+    EditText updateName;
+    @InjectView(R.id.update_imageview2)
+    ImageView updateImageview2;
+    @InjectView(R.id.update_phone)
+    EditText updatePhone;
+
+    Context context;
+    private String name;
+    private String phone;
+
+    @Override
+    protected void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.update_activity);
+        ButterKnife.inject(this);
+        context = this;
+        udToolbar.setNavigationIcon(R.drawable.ic_arrow_back_white_24dp);
+        setSupportActionBar(udToolbar);
+        getSupportActionBar().setDisplayShowTitleEnabled(false);
+
+        Intent intent = getIntent();
+        name = intent.getStringExtra("name");
+        phone = intent.getStringExtra("phone");
+        updateName.setText(name);
+        updatePhone.setText(phone);
+
+        udToolbar.setNavigationOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
+            }
+        });
+    }
+
+    public boolean onCreateOptionsMenu(Menu menu) {
+        getMenuInflater().inflate(R.menu.menu_uptade, menu);
+        MenuItem done = menu.findItem(R.id.done);
+        done.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {
+            @Override
+            public boolean onMenuItemClick(MenuItem item) {
+
+                String bonanzaName = updateName.getText().toString();
+                String bonanzaPhone = updatePhone.getText().toString();
+                Contact contact=new Contact();
+                contact.setName(bonanzaName);
+                contact.setPhone(bonanzaPhone);
+                ContactUtil.updateContact(context,name,contact);
+
+                Toast.makeText(context,"修改成功",Toast.LENGTH_SHORT).show();
+                finish();
+                return false;
+            }
+        });
+        return super.onCreateOptionsMenu(menu);
+    }
+
+
+}
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main.xml	(revision )
+++ app/src/main/res/layout/activity_main.xml	(revision )
@@ -0,0 +1,49 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.dell.contactsdemo.MainActivity">
+
+    <android.support.design.widget.AppBarLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:theme="@style/AppTheme.AppBarOverlay">
+
+        <android.support.v7.widget.Toolbar
+            android:id="@+id/toolbar"
+            android:layout_width="match_parent"
+            android:layout_height="?attr/actionBarSize"
+            android:background="?attr/colorPrimary"
+            app:popupTheme="@style/AppTheme.PopupOverlay" />
+
+        <android.support.design.widget.TabLayout
+            android:id="@+id/tablayout"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            app:tabIndicatorColor="#f0f0f0"
+            >
+
+        </android.support.design.widget.TabLayout>
+    </android.support.design.widget.AppBarLayout>
+
+   <android.support.v4.view.ViewPager
+       app:layout_behavior="@string/appbar_scrolling_view_behavior"
+       android:id="@+id/viewPager"
+       android:layout_width="match_parent"
+       android:layout_height="match_parent">
+
+   </android.support.v4.view.ViewPager>
+
+    <android.support.design.widget.FloatingActionButton
+        android:id="@+id/fab"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_gravity="bottom|end"
+        app:backgroundTint="@color/colorPrimary"
+        android:layout_margin="@dimen/fab_margin"
+        android:src="@drawable/ic_person_add_white_36dp" />
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/res/layout/fab_activity.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fab_activity.xml	(revision )
+++ app/src/main/res/layout/fab_activity.xml	(revision )
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <include layout="@layout/fab_toolbar"/>
+
+    <ImageView
+        android:id="@+id/fab_image"
+        android:layout_width="match_parent"
+        android:layout_height="240dp"
+        android:src="@drawable/ic_person_white_48dp"
+        android:background="@color/google_orange"/>
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal"
+        android:layout_marginTop="20dp">
+        <ImageView
+            android:id="@+id/imageview"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:src="@drawable/ic_person_grey_600_24dp"
+            android:layout_gravity="center"
+            android:padding="8dp"/>
+        <EditText
+            android:id="@+id/fab_name"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="10dp"
+            android:hint="@string/fab_name"
+
+            />
+    </LinearLayout>
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal"
+        android:layout_marginTop="10dp">
+        <ImageView
+            android:id="@+id/imageview2"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:src="@drawable/ic_phone_grey_600_24dp"
+            android:layout_gravity="center"
+            android:padding="8dp"/>
+        <EditText
+            android:id="@+id/fab_phone"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="10dp"
+            android:hint="@string/fab_phone"
+            />
+    </LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
Index: gradle/wrapper/gradle-wrapper.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>GBK
===================================================================
--- gradle/wrapper/gradle-wrapper.properties	(revision )
+++ gradle/wrapper/gradle-wrapper.properties	(revision )
@@ -0,0 +1,6 @@
+#Wed Oct 21 11:34:03 PDT 2015
+distributionBase=GRADLE_USER_HOME
+distributionPath=wrapper/dists
+zipStoreBase=GRADLE_USER_HOME
+zipStorePath=wrapper/dists
+distributionUrl=https\://services.gradle.org/distributions/gradle-2.8-all.zip
Index: app/src/main/java/com/example/dell/contactsdemo/FabActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/FabActivity.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/FabActivity.java	(revision )
@@ -0,0 +1,73 @@
+package com.example.dell.contactsdemo;
+
+import android.content.Context;
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v7.app.AppCompatActivity;
+import android.view.View;
+import android.widget.EditText;
+import android.widget.ImageButton;
+import android.widget.ImageView;
+import android.widget.TextView;
+import android.widget.Toast;
+
+import com.example.dell.contactsdemo.Utils.ContactUtil;
+import com.example.dell.contactsdemo.entity.Contact;
+
+import butterknife.ButterKnife;
+import butterknife.InjectView;
+
+/**
+ * Created by dell on 2016/4/10.
+ */
+public class FabActivity extends AppCompatActivity {
+
+    @InjectView(R.id.back)
+    ImageButton back;
+    @InjectView(R.id.tv_title)
+    TextView tvTitle;
+    @InjectView(R.id.success)
+    ImageButton success;
+    @InjectView(R.id.fab_image)
+    ImageView fabImage;
+    @InjectView(R.id.imageview)
+    ImageView imageview;
+    @InjectView(R.id.fab_name)
+    EditText fabName;
+    @InjectView(R.id.imageview2)
+    ImageView imageview2;
+    @InjectView(R.id.fab_phone)
+    EditText fabPhone;
+
+
+    @Override
+    protected void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.fab_activity);
+        ButterKnife.inject(this);
+
+        back.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
+            }
+        });
+
+        success.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                String name = fabName.getText().toString();
+                String phone = fabPhone.getText().toString();
+
+                Contact contact=new Contact();
+                contact.setName(name);
+                contact.setPhone(phone);
+                ContactUtil.insertContacts(FabActivity.this,contact);
+                Toast.makeText(FabActivity.this,"添加成功",Toast.LENGTH_SHORT).show();
+                finish();
+
+            }
+        });
+    }
+
+}
Index: app/src/test/java/com/example/dell/contactsdemo/ExampleUnitTest.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/test/java/com/example/dell/contactsdemo/ExampleUnitTest.java	(revision )
+++ app/src/test/java/com/example/dell/contactsdemo/ExampleUnitTest.java	(revision )
@@ -0,0 +1,15 @@
+package com.example.dell.contactsdemo;
+
+import org.junit.Test;
+
+import static org.junit.Assert.*;
+
+/**
+ * To work on unit tests, switch the Test Artifact in the Build Variants view.
+ */
+public class ExampleUnitTest {
+    @Test
+    public void addition_isCorrect() throws Exception {
+        assertEquals(4, 2 + 2);
+    }
+}
\ No newline at end of file
Index: gradlew.bat
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- gradlew.bat	(revision )
+++ gradlew.bat	(revision )
@@ -0,0 +1,90 @@
+@if "%DEBUG%" == "" @echo off
+@rem ##########################################################################
+@rem
+@rem  Gradle startup script for Windows
+@rem
+@rem ##########################################################################
+
+@rem Set local scope for the variables with windows NT shell
+if "%OS%"=="Windows_NT" setlocal
+
+@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
+set DEFAULT_JVM_OPTS=
+
+set DIRNAME=%~dp0
+if "%DIRNAME%" == "" set DIRNAME=.
+set APP_BASE_NAME=%~n0
+set APP_HOME=%DIRNAME%
+
+@rem Find java.exe
+if defined JAVA_HOME goto findJavaFromJavaHome
+
+set JAVA_EXE=java.exe
+%JAVA_EXE% -version >NUL 2>&1
+if "%ERRORLEVEL%" == "0" goto init
+
+echo.
+echo ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.
+echo.
+echo Please set the JAVA_HOME variable in your environment to match the
+echo location of your Java installation.
+
+goto fail
+
+:findJavaFromJavaHome
+set JAVA_HOME=%JAVA_HOME:"=%
+set JAVA_EXE=%JAVA_HOME%/bin/java.exe
+
+if exist "%JAVA_EXE%" goto init
+
+echo.
+echo ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%
+echo.
+echo Please set the JAVA_HOME variable in your environment to match the
+echo location of your Java installation.
+
+goto fail
+
+:init
+@rem Get command-line arguments, handling Windowz variants
+
+if not "%OS%" == "Windows_NT" goto win9xME_args
+if "%@eval[2+2]" == "4" goto 4NT_args
+
+:win9xME_args
+@rem Slurp the command line arguments.
+set CMD_LINE_ARGS=
+set _SKIP=2
+
+:win9xME_args_slurp
+if "x%~1" == "x" goto execute
+
+set CMD_LINE_ARGS=%*
+goto execute
+
+:4NT_args
+@rem Get arguments from the 4NT Shell from JP Software
+set CMD_LINE_ARGS=%$
+
+:execute
+@rem Setup the command line
+
+set CLASSPATH=%APP_HOME%\gradle\wrapper\gradle-wrapper.jar
+
+@rem Execute Gradle
+"%JAVA_EXE%" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% "-Dorg.gradle.appname=%APP_BASE_NAME%" -classpath "%CLASSPATH%" org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%
+
+:end
+@rem End local scope for the variables with windows NT shell
+if "%ERRORLEVEL%"=="0" goto mainEnd
+
+:fail
+rem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of
+rem the _cmd.exe /c_ return code!
+if  not "" == "%GRADLE_EXIT_CONSOLE%" exit 1
+exit /b 1
+
+:mainEnd
+if "%OS%"=="Windows_NT" endlocal
+
+:omega
Index: gradlew
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- gradlew	(revision )
+++ gradlew	(revision )
@@ -0,0 +1,160 @@
+#!/usr/bin/env bash
+
+##############################################################################
+##
+##  Gradle start up script for UN*X
+##
+##############################################################################
+
+# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
+DEFAULT_JVM_OPTS=""
+
+APP_NAME="Gradle"
+APP_BASE_NAME=`basename "$0"`
+
+# Use the maximum available, or set MAX_FD != -1 to use that value.
+MAX_FD="maximum"
+
+warn ( ) {
+    echo "$*"
+}
+
+die ( ) {
+    echo
+    echo "$*"
+    echo
+    exit 1
+}
+
+# OS specific support (must be 'true' or 'false').
+cygwin=false
+msys=false
+darwin=false
+case "`uname`" in
+  CYGWIN* )
+    cygwin=true
+    ;;
+  Darwin* )
+    darwin=true
+    ;;
+  MINGW* )
+    msys=true
+    ;;
+esac
+
+# Attempt to set APP_HOME
+# Resolve links: $0 may be a link
+PRG="$0"
+# Need this for relative symlinks.
+while [ -h "$PRG" ] ; do
+    ls=`ls -ld "$PRG"`
+    link=`expr "$ls" : '.*-> \(.*\)$'`
+    if expr "$link" : '/.*' > /dev/null; then
+        PRG="$link"
+    else
+        PRG=`dirname "$PRG"`"/$link"
+    fi
+done
+SAVED="`pwd`"
+cd "`dirname \"$PRG\"`/" >/dev/null
+APP_HOME="`pwd -P`"
+cd "$SAVED" >/dev/null
+
+CLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar
+
+# Determine the Java command to use to start the JVM.
+if [ -n "$JAVA_HOME" ] ; then
+    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
+        # IBM's JDK on AIX uses strange locations for the executables
+        JAVACMD="$JAVA_HOME/jre/sh/java"
+    else
+        JAVACMD="$JAVA_HOME/bin/java"
+    fi
+    if [ ! -x "$JAVACMD" ] ; then
+        die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME
+
+Please set the JAVA_HOME variable in your environment to match the
+location of your Java installation."
+    fi
+else
+    JAVACMD="java"
+    which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.
+
+Please set the JAVA_HOME variable in your environment to match the
+location of your Java installation."
+fi
+
+# Increase the maximum file descriptors if we can.
+if [ "$cygwin" = "false" -a "$darwin" = "false" ] ; then
+    MAX_FD_LIMIT=`ulimit -H -n`
+    if [ $? -eq 0 ] ; then
+        if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then
+            MAX_FD="$MAX_FD_LIMIT"
+        fi
+        ulimit -n $MAX_FD
+        if [ $? -ne 0 ] ; then
+            warn "Could not set maximum file descriptor limit: $MAX_FD"
+        fi
+    else
+        warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"
+    fi
+fi
+
+# For Darwin, add options to specify how the application appears in the dock
+if $darwin; then
+    GRADLE_OPTS="$GRADLE_OPTS \"-Xdock:name=$APP_NAME\" \"-Xdock:icon=$APP_HOME/media/gradle.icns\""
+fi
+
+# For Cygwin, switch paths to Windows format before running java
+if $cygwin ; then
+    APP_HOME=`cygpath --path --mixed "$APP_HOME"`
+    CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`
+    JAVACMD=`cygpath --unix "$JAVACMD"`
+
+    # We build the pattern for arguments to be converted via cygpath
+    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`
+    SEP=""
+    for dir in $ROOTDIRSRAW ; do
+        ROOTDIRS="$ROOTDIRS$SEP$dir"
+        SEP="|"
+    done
+    OURCYGPATTERN="(^($ROOTDIRS))"
+    # Add a user-defined pattern to the cygpath arguments
+    if [ "$GRADLE_CYGPATTERN" != "" ] ; then
+        OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"
+    fi
+    # Now convert the arguments - kludge to limit ourselves to /bin/sh
+    i=0
+    for arg in "$@" ; do
+        CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`
+        CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option
+
+        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition
+            eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`
+        else
+            eval `echo args$i`="\"$arg\""
+        fi
+        i=$((i+1))
+    done
+    case $i in
+        (0) set -- ;;
+        (1) set -- "$args0" ;;
+        (2) set -- "$args0" "$args1" ;;
+        (3) set -- "$args0" "$args1" "$args2" ;;
+        (4) set -- "$args0" "$args1" "$args2" "$args3" ;;
+        (5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;
+        (6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;
+        (7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;
+        (8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;
+        (9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;
+    esac
+fi
+
+# Split up the JVM_OPTS And GRADLE_OPTS values into an array, following the shell quoting and substitution rules
+function splitJvmOpts() {
+    JVM_OPTS=("$@")
+}
+eval splitJvmOpts $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS
+JVM_OPTS[${#JVM_OPTS[*]}]="-Dorg.gradle.appname=$APP_BASE_NAME"
+
+exec "$JAVACMD" "${JVM_OPTS[@]}" -classpath "$CLASSPATH" org.gradle.wrapper.GradleWrapperMain "$@"
Index: .idea/.name
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/.name	(revision )
+++ .idea/.name	(revision )
@@ -0,0 +1,1 @@
+ContactsDemo
\ No newline at end of file
Index: app/src/main/java/com/example/dell/contactsdemo/Utils/Cn2Spell.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/Utils/Cn2Spell.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/Utils/Cn2Spell.java	(revision )
@@ -0,0 +1,176 @@
+package com.example.dell.contactsdemo.Utils;
+
+import android.content.res.ColorStateList;
+import android.graphics.Color;
+import android.graphics.drawable.Drawable;
+import android.support.v4.graphics.drawable.DrawableCompat;
+
+import net.sourceforge.pinyin4j.PinyinHelper;
+import net.sourceforge.pinyin4j.format.HanyuPinyinCaseType;
+import net.sourceforge.pinyin4j.format.HanyuPinyinOutputFormat;
+import net.sourceforge.pinyin4j.format.HanyuPinyinToneType;
+import net.sourceforge.pinyin4j.format.HanyuPinyinVCharType;
+import net.sourceforge.pinyin4j.format.exception.BadHanyuPinyinOutputFormatCombination;
+
+import java.util.HashSet;
+import java.util.Set;
+
+/**
+ * Created by ZhangZepeng on 16/4/2.
+ */
+public class Cn2Spell {
+
+    /**
+     * @param src
+     * @return author  : Robert
+     * about version ：1.00
+     * create time   : 2011-3-22-下午07:04:27
+     * Description ：
+     * 传入汉字字符串，拼接成对应的拼音,返回拼音的集合
+     */
+    public static Set<String> getPinYinSet(String src) {
+        Set<String> lstResult = new HashSet<String>();
+        char[] t1 = null;  //字符串转换成char数组
+        t1 = src.toCharArray();
+
+        //①迭代汉字
+        for (char ch : t1) {
+            String s[] = getPinYin(ch);
+            Set<String> lstNew = new HashSet<String>();
+            //②迭代每个汉字的拼音数组
+            for (String str : s) {
+                if (lstResult.size() == 0) {
+                    lstNew.add(str);
+                } else {
+                    for (String ss : lstResult) {
+                        ss += str;
+                        lstNew.add(ss);
+                    }
+                }
+            }
+            lstResult.clear();
+            lstResult = lstNew;
+        }
+
+        return lstResult;
+    }
+
+    /**
+     * @param src
+     * @return author  : Robert
+     * about version ：1.00
+     * create time   : 2011-3-22-下午02:21:42
+     * Description ：
+     * 传入中文汉字，转换出对应拼音
+     * 注：出现同音字，默认选择汉字全拼的第一种读音
+     */
+    public static String getPinYin(String src) {
+        char[] t1 = null;
+        t1 = src.toCharArray();
+        String[] t2 = new String[t1.length];
+
+        // 设置汉字拼音输出的格式
+        HanyuPinyinOutputFormat t3 = new HanyuPinyinOutputFormat();
+        t3.setCaseType(HanyuPinyinCaseType.LOWERCASE);
+        t3.setToneType(HanyuPinyinToneType.WITHOUT_TONE);
+        t3.setVCharType(HanyuPinyinVCharType.WITH_V);
+        String t4 = "";
+        int t0 = t1.length;
+        try {
+            for (int i = 0; i < t0; i++) {
+                // 判断能否为汉字字符
+                // System.out.println(t1[i]);
+                if (Character.toString(t1[i]).matches("[\\u4E00-\\u9FA5]+")) {
+                    t2 = PinyinHelper.toHanyuPinyinStringArray(t1[i], t3);// 将汉字的几种全拼都存到t2数组中
+                    t4 += t2[0];// 取出该汉字全拼的第一种读音并连接到字符串t4后
+                } else {
+                    // 如果不是汉字字符，间接取出字符并连接到字符串t4后
+                    t4 += Character.toString(t1[i]);
+                }
+            }
+        } catch (BadHanyuPinyinOutputFormatCombination e) {
+            e.printStackTrace();
+        }
+        return t4;
+    }
+
+    /**
+     * @param src
+     * @return author  : Robert
+     * about version ：1.00
+     * create time   : 2011-3-22-下午02:52:35
+     * Description ：
+     * 将单个汉字转换成汉语拼音，考虑到同音字问题，返回字符串数组的形式
+     */
+    public static String[] getPinYin(char src) {
+        char[] t1 = {src};
+        String[] t2 = new String[t1.length];
+
+        // 设置汉字拼音输出的格式
+        HanyuPinyinOutputFormat t3 = new HanyuPinyinOutputFormat();
+        t3.setCaseType(HanyuPinyinCaseType.LOWERCASE);
+        t3.setToneType(HanyuPinyinToneType.WITHOUT_TONE);
+        t3.setVCharType(HanyuPinyinVCharType.WITH_V);
+
+        // 判断能否为汉字字符
+        if (Character.toString(t1[0]).matches("[\\u4E00-\\u9FA5]+")) {
+            try {
+                // 将汉字的几种全拼都存到t2数组中
+                t2 = PinyinHelper.toHanyuPinyinStringArray(t1[0], t3);
+            } catch (BadHanyuPinyinOutputFormatCombination e) {
+                e.printStackTrace();
+            }
+        } else {
+            // 如果不是汉字字符，则把字符直接放入t2数组中
+            t2[0] = String.valueOf(src);
+        }
+        return t2;
+    }
+
+    /**
+     * @param src
+     * @return author  : Robert
+     * about version ：1.00
+     * create time   : 2011-3-22-下午03:03:02
+     * Description ：
+     * 传入没有多音字的中文汉字，转换出对应拼音
+     * 注：如果传入的中文中有任一同音字都会返回字符串信息：false
+     */
+    public static String getNoPolyphone(String src) {
+        char[] t1 = null;
+        t1 = src.toCharArray();
+        String[] t2 = new String[t1.length];
+
+        // 设置汉字拼音输出的格式
+        HanyuPinyinOutputFormat t3 = new HanyuPinyinOutputFormat();
+        t3.setCaseType(HanyuPinyinCaseType.LOWERCASE);
+        t3.setToneType(HanyuPinyinToneType.WITHOUT_TONE);
+        t3.setVCharType(HanyuPinyinVCharType.WITH_V);
+        String t4 = "";
+        int t0 = t1.length;
+        try {
+            for (int i = 0; i < t0; i++) {
+                // 判断能否为汉字字符
+                // System.out.println(t1[i]);
+                if (Character.toString(t1[i]).matches("[\\u4E00-\\u9FA5]+")) {
+                    t2 = PinyinHelper.toHanyuPinyinStringArray(t1[i], t3);// 将汉字的几种全拼都存到t2数组中
+                    if (t2.length > 1) {
+                        return "false";
+                    } else {
+                        t4 += t2[0];// 取出该汉字全拼的第一种读音并连接到字符串t4后
+                    }
+                } else {
+                    // 如果不是汉字字符，间接取出字符并连接到字符串t4后
+                    t4 += Character.toString(t1[i]);
+                }
+            }
+        } catch (BadHanyuPinyinOutputFormatCombination e) {
+            e.printStackTrace();
+        }
+        return t4;
+    }
+
+
+
+
+}
Index: app/src/main/res/layout/fab_toolbar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fab_toolbar.xml	(revision )
+++ app/src/main/res/layout/fab_toolbar.xml	(revision )
@@ -0,0 +1,37 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.v7.widget.Toolbar xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="60dp"
+    android:background="@color/colorPrimary">
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+       >
+        <ImageButton
+            android:id="@+id/back"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:background="#00000000"
+            android:layout_centerVertical="true"
+            android:src="@drawable/ic_arrow_back_white_36dp"/>
+        <TextView
+            android:id="@+id/tv_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="新增联系人"
+            android:textSize="23dp"
+            android:layout_centerVertical="true"
+            android:layout_marginLeft="50dp"
+            android:textColor="#f0f0f0"/>
+        <ImageButton
+            android:id="@+id/success"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:background="#00000000"
+            android:layout_centerVertical="true"
+            android:src="@drawable/ic_done_white_36dp"
+            android:layout_marginRight="10dp"
+            android:layout_alignParentEnd="true" />
+    </RelativeLayout>
+
+</android.support.v7.widget.Toolbar>
\ No newline at end of file
Index: .idea/compiler.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/compiler.xml	(revision )
+++ .idea/compiler.xml	(revision )
@@ -0,0 +1,22 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="CompilerConfiguration">
+    <resourceExtensions />
+    <wildcardResourcePatterns>
+      <entry name="!?*.java" />
+      <entry name="!?*.form" />
+      <entry name="!?*.class" />
+      <entry name="!?*.groovy" />
+      <entry name="!?*.scala" />
+      <entry name="!?*.flex" />
+      <entry name="!?*.kt" />
+      <entry name="!?*.clj" />
+      <entry name="!?*.aj" />
+    </wildcardResourcePatterns>
+    <annotationProcessing>
+      <profile default="true" name="Default" enabled="false">
+        <processorPath useClasspath="true" />
+      </profile>
+    </annotationProcessing>
+  </component>
+</project>
\ No newline at end of file
Index: .idea/runConfigurations.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/runConfigurations.xml	(revision )
+++ .idea/runConfigurations.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="RunConfigurationProducerService">
+    <option name="ignoredProducers">
+      <set>
+        <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />
+        <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />
+        <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />
+      </set>
+    </option>
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/res/layout/detail_activity.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/detail_activity.xml	(revision )
+++ app/src/main/res/layout/detail_activity.xml	(revision )
@@ -0,0 +1,89 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:card_view="http://schemas.android.com/tools"
+    android:orientation="vertical"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <android.support.v7.widget.Toolbar
+        android:layout_width="match_parent"
+        android:layout_height="50dp"
+        android:id="@id/toolbar"
+        android:theme="@style/AppTheme.AppBarOverlay"
+        app:popupTheme="@style/AppTheme.PopupOverlay"
+        android:background="@color/google_orange">
+    </android.support.v7.widget.Toolbar>
+    <TextView
+        android:id="@+id/tv_name"
+        android:layout_width="match_parent"
+        android:layout_height="200dp"
+        android:background="@color/google_orange"
+        android:text="aa"
+        android:textSize="40dp"
+        android:textColor="#f0f0f0"
+        android:paddingLeft="40dp"
+        android:paddingBottom="20dp"
+        android:gravity="bottom"
+      >
+  </TextView>
+
+    <android.support.v7.widget.CardView
+        android:id="@+id/cardView"
+        android:layout_marginTop="20dp"
+        android:layout_width="match_parent"
+        android:layout_height="80dp"
+        card_view:cardElevation="20dp"
+        card_view:cardCornerRadius="8dp"
+        android:padding="20dp"
+        android:layout_marginLeft="10dp"
+        android:layout_marginRight="10dp"
+        >
+        <RelativeLayout
+            android:layout_width="match_parent"
+            android:layout_height="80dp"
+            android:orientation="horizontal">
+
+            <ImageView
+                android:id="@+id/iv_phone"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:background="@drawable/ic_phone_black_24dp"
+                android:layout_centerVertical="true"
+               android:layout_marginLeft="15dp"
+               />
+
+            <LinearLayout
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:orientation="vertical"
+                android:layout_toEndOf="@+id/iv_phone"
+                android:layout_marginLeft="15dp">
+                <TextView
+                    android:id="@+id/tv_tele"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="aaaa"
+                    android:textSize="20dp"
+                    android:textColor="#000000"
+                    android:layout_marginTop="15dp"/>
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/phone"
+                    android:textSize="16dp"
+                    android:layout_marginTop="5dp"/>
+            </LinearLayout>
+
+            <ImageView
+                android:id="@+id/iv_sms"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:background="@drawable/ic_chat_black_24dp"
+                android:layout_marginRight="15dp"
+                android:layout_centerVertical="true"
+                android:layout_alignParentEnd="true" />
+        </RelativeLayout>
+
+    </android.support.v7.widget.CardView>
+</LinearLayout>
\ No newline at end of file
Index: app/.gitignore
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/.gitignore	(revision )
+++ app/.gitignore	(revision )
@@ -0,0 +1,1 @@
+/build
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision )
+++ app/build.gradle	(revision )
@@ -0,0 +1,40 @@
+apply plugin: 'com.android.application'
+
+android {
+    compileSdkVersion 23
+    buildToolsVersion "23.0.2"
+
+    defaultConfig {
+        applicationId "com.example.dell.contactsdemo"
+        minSdkVersion 21
+        targetSdkVersion 23
+        versionCode 1
+        versionName "1.0"
+    }
+    buildTypes {
+        release {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
+    }
+}
+
+dependencies {
+    compile fileTree(dir: 'libs', include: ['*.jar'])
+    testCompile 'junit:junit:4.12'
+    compile 'com.android.support:appcompat-v7:23.1.1'
+    compile 'com.android.support:design:23.1.1'
+
+    /** 注解 **/
+    compile 'com.jakewharton:butterknife:5.0.1'
+
+    /**tablayout*/
+    compile 'com.android.support:design:23.1.1'
+    compile 'com.android.support:support-v4:23.1.1'
+
+    compile 'com.android.support:recyclerview-v7:23.0.1'
+
+    compile 'com.belerweb:pinyin4j:2.5.1'
+
+    compile 'com.android.support:cardview-v7:23.0.1'
+}
Index: app/src/main/java/com/example/dell/contactsdemo/entity/Contact.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/entity/Contact.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/entity/Contact.java	(revision )
@@ -0,0 +1,82 @@
+package com.example.dell.contactsdemo.entity;
+
+import android.widget.EditText;
+
+import net.sourceforge.pinyin4j.format.exception.BadHanyuPinyinOutputFormatCombination;
+
+/**
+ * Created by dell on 2016/4/9.
+ */
+public class Contact {
+    private String name;
+    private String tag;
+    private  String lastTime;
+    private String phone;
+    private String index;
+
+    public String getIndex() {
+        return index;
+    }
+
+    public void setIndex(String index) {
+        this.index = index;
+    }
+
+    public String getName() {
+        return name;
+    }
+
+    public void setName(String name) {
+        this.name = name;
+    }
+
+    public String getTag() {
+        return tag;
+    }
+
+    public void setTag(String tag) {
+        this.tag = tag;
+    }
+
+    public String getLastTime() {
+        return lastTime;
+    }
+
+    public void setLastTime(String lastTime) {
+        this.lastTime = lastTime;
+    }
+
+    public String getPhone() {
+        return phone;
+    }
+
+    public void setPhone(String phone) {
+        this.phone = phone;
+    }
+
+    public Contact(String name, String tag, String lastTime, String phone, String index) {
+        this.name = name;
+        this.tag = tag;
+        this.lastTime = lastTime;
+        this.phone = phone;
+        this.index = index;
+    }
+
+    public Contact() {
+        super();
+    }
+
+    @Override
+    public String toString() {
+        return "Contact{" +
+                "name='" + name + '\'' +
+                ", tag='" + tag + '\'' +
+                ", lastTime='" + lastTime + '\'' +
+                ", phone='" + phone + '\'' +
+                ", index='" + index + '\'' +
+                '}';
+    }
+
+
+
+}
Index: settings.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- settings.gradle	(revision )
+++ settings.gradle	(revision )
@@ -0,0 +1,1 @@
+include ':app'
Index: app/src/main/res/menu/menu_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/menu/menu_main.xml	(revision )
+++ app/src/main/res/menu/menu_main.xml	(revision )
@@ -0,0 +1,9 @@
+<menu xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto">
+    <item
+        android:id="@+id/searchView"
+        android:icon="@drawable/ic_search_white_24dp"
+        android:title="search"
+        app:actionViewClass="android.support.v7.widget.SearchView"
+        app:showAsAction="ifRoom|collapseActionView" />
+</menu>
Index: app/src/main/res/values-w820dp/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values-w820dp/dimens.xml	(revision )
+++ app/src/main/res/values-w820dp/dimens.xml	(revision )
@@ -0,0 +1,6 @@
+<resources>
+    <!-- Example customization of dimensions originally defined in res/values/dimens.xml
+         (such as screen margins) for screens with more than 820dp of available width. This
+         would include 7" and 10" devices in landscape (~960dp and ~1280dp respectively). -->
+    <dimen name="activity_horizontal_margin">64dp</dimen>
+</resources>
Index: app/src/main/res/menu/menu_uptade.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/menu/menu_uptade.xml	(revision )
+++ app/src/main/res/menu/menu_uptade.xml	(revision )
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="utf-8"?>
+<menu xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto">
+
+    <item
+        android:id="@+id/more"
+        android:title="@string/more"
+        app:showAsAction="collapseActionView" />
+    <item
+        android:id="@+id/done"
+        android:title="done"
+        android:icon="@drawable/ic_done_white_36dp"
+        app:showAsAction="ifRoom|collapseActionView"
+        />
+</menu>
\ No newline at end of file
Index: app/src/main/res/values/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/dimens.xml	(revision )
+++ app/src/main/res/values/dimens.xml	(revision )
@@ -0,0 +1,6 @@
+<resources>
+    <!-- Default screen margins, per the Android Design guidelines. -->
+    <dimen name="activity_horizontal_margin">16dp</dimen>
+    <dimen name="activity_vertical_margin">16dp</dimen>
+    <dimen name="fab_margin">16dp</dimen>
+</resources>
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/gradle.xml	(revision )
+++ .idea/gradle.xml	(revision )
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="GradleSettings">
+    <option name="linkedExternalProjectsSettings">
+      <GradleProjectSettings>
+        <option name="distributionType" value="DEFAULT_WRAPPED" />
+        <option name="externalProjectPath" value="$PROJECT_DIR$" />
+        <option name="modules">
+          <set>
+            <option value="$PROJECT_DIR$" />
+            <option value="$PROJECT_DIR$/app" />
+          </set>
+        </option>
+        <option name="myModules">
+          <set>
+            <option value="$PROJECT_DIR$" />
+            <option value="$PROJECT_DIR$/app" />
+          </set>
+        </option>
+      </GradleProjectSettings>
+    </option>
+  </component>
+</project>
\ No newline at end of file
Index: app/src/androidTest/java/com/example/dell/contactsdemo/SQLTest.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/androidTest/java/com/example/dell/contactsdemo/SQLTest.java	(revision )
+++ app/src/androidTest/java/com/example/dell/contactsdemo/SQLTest.java	(revision )
@@ -0,0 +1,22 @@
+package com.example.dell.contactsdemo;
+
+import android.test.AndroidTestCase;
+import android.test.InstrumentationTestCase;
+import android.util.Log;
+
+import com.example.dell.contactsdemo.Utils.ContactUtil;
+import com.example.dell.contactsdemo.entity.Contact;
+
+import java.util.ArrayList;
+
+/**
+ * Created by dell on 2016/4/12.
+ */
+public class SQLTest extends AndroidTestCase {
+    public  void testgetobject(){
+        ArrayList<Contact> contacts = ContactUtil.getContacts(getContext(), 11);
+        for (Contact contact :contacts) {
+            Log.i("lhd", "@@@@@@@@"+contact.getName());
+        }
+    }
+}
Index: app/src/main/java/com/example/dell/contactsdemo/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/MainActivity.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/MainActivity.java	(revision )
@@ -0,0 +1,190 @@
+package com.example.dell.contactsdemo;
+
+import android.animation.ValueAnimator;
+import android.app.SearchManager;
+import android.app.SearchableInfo;
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.design.widget.FloatingActionButton;
+import android.support.design.widget.TabLayout;
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentManager;
+import android.support.v4.app.FragmentPagerAdapter;
+import android.support.v4.view.MenuItemCompat;
+import android.support.v4.view.ViewPager;
+import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.SearchView;
+import android.support.v7.widget.Toolbar;
+import android.view.Menu;
+import android.view.MenuItem;
+import android.view.View;
+import android.view.ViewGroup;
+
+import com.example.dell.contactsdemo.moudle.all.AllFragment;
+import com.example.dell.contactsdemo.common.CommonFragment;
+
+import butterknife.ButterKnife;
+import butterknife.InjectView;
+
+public class MainActivity extends AppCompatActivity {
+
+    @InjectView(R.id.toolbar)
+    Toolbar toolbar;
+    @InjectView(R.id.tablayout)
+    TabLayout tablayout;
+    @InjectView(R.id.viewPager)
+    ViewPager viewPager;
+    @InjectView(R.id.fab)
+    FloatingActionButton fab;
+
+    int tablayoutHeight;
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_main);
+        ButterKnife.inject(this);
+        toolbar.setTitle("通讯录");// 标题的文字需在setSupportActionBar之前，不然会无效
+        setSupportActionBar(toolbar);
+
+
+        viewPager.setAdapter(new MyAdapter(getSupportFragmentManager()));
+
+        tablayout.setupWithViewPager(viewPager);
+
+        /**调用onCreate 布局有可能没绘制完  就用这个方法*/
+        tablayout.post(new Runnable() {
+            @Override
+            public void run() {
+                tablayoutHeight = tablayout.getHeight();
+            }
+        });
+
+
+        fab.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                Intent intent = new Intent(MainActivity.this,FabActivity.class);
+                startActivity(intent);
+            }
+        });
+
+    }
+
+
+
+    /**
+     * TabLayout改变的动画效果
+     */
+    private void animationChangeTabLayout(int oldValue, int newValue) {
+        /**缩放*/
+        final ValueAnimator valueAnimator = ValueAnimator.ofInt(oldValue, newValue);
+        valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
+
+            @Override
+            public void onAnimationUpdate(ValueAnimator animation) {
+                int animationValue = (int) animation.getAnimatedValue();
+                /**拿到布局参数*/
+                ViewGroup.LayoutParams layoutParams = tablayout.getLayoutParams();
+                /**动态改变高度*/
+                layoutParams.height = animationValue;
+                tablayout.setLayoutParams(layoutParams);
+            }
+        });
+        valueAnimator.setDuration(100L);
+        valueAnimator.start();
+    }
+
+
+    @Override
+    public boolean onCreateOptionsMenu(Menu menu) {
+        /**通过菜单的打气筒拿到menu的布局加到界面上*/
+        getMenuInflater().inflate(R.menu.menu_main, menu);
+
+        MenuItem item = menu.findItem(R.id.searchView);
+
+        SearchManager searchManager = (SearchManager) getSystemService(SEARCH_SERVICE);
+
+        SearchableInfo searchableInfo = searchManager.getSearchableInfo(getComponentName());
+
+        SearchView searchView = (SearchView) item.getActionView();
+
+        searchView.setSearchableInfo(searchableInfo);
+
+        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
+            @Override
+            public boolean onQueryTextSubmit(String query) {
+                return false;
+            }
+
+            @Override
+            public boolean onQueryTextChange(String newText) {
+                    if (onQueryChange!=null){
+                        onQueryChange.onQueryTextChange(newText);
+                    }
+                return false;
+            }
+        });
+
+        /**设置点击搜索  添加上Tablayout动画效果*/
+        MenuItemCompat.setOnActionExpandListener(item, new MenuItemCompat.OnActionExpandListener() {
+
+            @Override
+            public boolean onMenuItemActionExpand(MenuItem item) {
+                animationChangeTabLayout(tablayoutHeight, 0);
+                return true;
+            }
+
+            @Override
+            public boolean onMenuItemActionCollapse(MenuItem item) {
+                animationChangeTabLayout(0, tablayoutHeight);
+                return true;
+            }
+        });
+
+        return super.onCreateOptionsMenu(menu);
+    }
+
+
+   public interface onQueryChange{
+        void onQueryTextChange(String newText);
+    }
+    private onQueryChange onQueryChange;
+
+    public void setOnQueryChange(MainActivity.onQueryChange onQueryChange){
+        this.onQueryChange = onQueryChange;
+    }
+
+
+    class MyAdapter extends FragmentPagerAdapter {
+
+        String[] titles;
+
+        public MyAdapter(FragmentManager fm) {
+            super(fm);
+            /**拿到title*/
+            titles = getResources().getStringArray(R.array.tab_title);
+        }
+
+        @Override
+        public CharSequence getPageTitle(int position) {
+            return titles[position];
+        }
+
+        @Override
+        public Fragment getItem(int position) {
+            switch (position) {
+                case 0:
+                    return new CommonFragment();
+                case 1:
+                    return new AllFragment();
+            }
+            return null;
+        }
+
+        @Override
+        public int getCount() {
+            return 2;
+        }
+    }
+
+}
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- build.gradle	(revision )
+++ build.gradle	(revision )
@@ -0,0 +1,23 @@
+// Top-level build file where you can add configuration options common to all sub-projects/modules.
+
+buildscript {
+    repositories {
+        jcenter()
+    }
+    dependencies {
+        classpath 'com.android.tools.build:gradle:1.5.0'
+
+        // NOTE: Do not place your application dependencies here; they belong
+        // in the individual module build.gradle files
+    }
+}
+
+allprojects {
+    repositories {
+        jcenter()
+    }
+}
+
+task clean(type: Delete) {
+    delete rootProject.buildDir
+}
Index: app/src/main/java/com/example/dell/contactsdemo/moudle/all/AllFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/moudle/all/AllFragment.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/moudle/all/AllFragment.java	(revision )
@@ -0,0 +1,268 @@
+package com.example.dell.contactsdemo.moudle.all;
+
+import android.content.Context;
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v4.app.Fragment;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
+import android.text.TextUtils;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import com.example.dell.contactsdemo.Utils.ContactUtil;
+import com.example.dell.contactsdemo.DetailActivity;
+import com.example.dell.contactsdemo.MainActivity;
+import com.example.dell.contactsdemo.R;
+import com.example.dell.contactsdemo.Utils.Cn2Spell;
+import com.example.dell.contactsdemo.Utils.ColorUtils;
+import com.example.dell.contactsdemo.entity.Contact;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.Comparator;
+import java.util.List;
+import java.util.regex.Matcher;
+import java.util.regex.Pattern;
+
+import butterknife.ButterKnife;
+
+/**
+ * Created by dell on 2016/4/2.
+ */
+public class AllFragment extends Fragment {
+
+
+    RecyclerView allRecyclerView;
+    MyAdapter adapter;
+
+
+    //所有联系人 type
+    public  final int NORMAL_TYPE = 11;
+
+    @Nullable
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+
+        View view = inflater.inflate(R.layout.fragment_all, container, false);
+
+        ArrayList<Contact> list=ContactUtil.getContacts(getContext(), NORMAL_TYPE);
+        for (Contact c:
+            list ) {
+            Log.i("ws",""+c.getName());
+        }
+        Log.i("asd",list.toString());
+        adapter = new MyAdapter(getContext(), list);
+        allRecyclerView= (RecyclerView) view.findViewById(R.id.all_recyclerView);
+        allRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));
+        allRecyclerView.setAdapter(adapter);
+
+        adapter.setOnItemClickListener(new OnItemClickListener() {
+            @Override
+            public void onItemClick(View view, List<Contact> datas,int position) {
+                Intent intent = new Intent(getActivity(), DetailActivity.class);
+                intent.putExtra("name",datas.get(position).getName());
+                intent.putExtra("phone",datas.get(position).getPhone());
+                startActivity(intent);
+            }
+        });
+
+        /**刷新adapter*/
+        allRecyclerView.getAdapter().notifyDataSetChanged();
+
+        /**获取到搜索框输入的文本  过滤*/
+        ((MainActivity)getActivity()).setOnQueryChange(new MainActivity.onQueryChange() {
+            @Override
+            public void onQueryTextChange(String newText) {
+                ((MyAdapter)allRecyclerView.getAdapter()).filter(newText);
+            }
+        });
+
+        return view;
+
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+        adapter.setDate(ContactUtil.getContacts(getContext(),NORMAL_TYPE));
+
+    }
+
+    @Override
+    public void onDestroyView() {
+        super.onDestroyView();
+        ButterKnife.reset(this);
+    }
+
+    interface OnItemClickListener{
+        void onItemClick(View view , List<Contact> datas , int position);
+    }
+
+
+
+    class MyAdapter extends  RecyclerView.Adapter<MyAdapter.MyHolder> {
+
+        private List<Contact> CacheContacts = new ArrayList<>();
+        private  List<Contact> displayContacts = new ArrayList<>();
+        Context context;
+        private Cn2Spell cn2Spell=new Cn2Spell();
+
+
+        public void setDate(List<Contact> list){
+            this.displayContacts=list;
+            notifyDataSetChanged();
+
+        }
+
+        public MyAdapter(Context context, List<Contact> contacts) {
+            this.context = context;
+            this.CacheContacts = contacts;
+            displayContacts.addAll(CacheContacts);
+            for (Contact c : displayContacts) {
+                Log.i("lhd",c.getName()+"");
+            }
+        }
+
+        public OnItemClickListener mOnItemClickListener;
+
+        public void setOnItemClickListener(OnItemClickListener listener){
+            this.mOnItemClickListener = listener;
+        }
+
+        @Override
+        public MyHolder onCreateViewHolder(ViewGroup parent, int viewType) {
+            View view = LayoutInflater.from(context).inflate(R.layout.fragment_all_item, parent, false);
+            MyHolder holder = new MyHolder(view);
+            return holder;
+        }
+
+        @Override
+        public void onBindViewHolder(final MyHolder holder, final int position) {
+            /**排序*/
+            Collections.sort(displayContacts, new Comparator<Contact>() {
+                @Override
+                public int compare(Contact lhs, Contact rhs) {
+                    String pinyinName1=cn2Spell.getPinYin(lhs.getName());
+                    String pinyinName2=cn2Spell.getPinYin(rhs.getName());
+                    char c1 = pinyinName1.toString().charAt(0);
+                    char c2 = pinyinName2.toString().charAt(0);
+                    if (c1>='a'&&c1<='z'){
+                        c1-=32;
+                    }
+                    if (c2>='a'&&c2<='z'){
+                        c2-=32;
+                    }
+                    int result=c1>c2?1:(c1==c2?0:-1);
+                    if (result==0){
+                        /**再进行一次比较*/
+                        result=lhs.toString().compareTo(rhs.toString());
+                    }
+                    return result;
+                }
+            });
+
+
+//           Contact contact = contacts.get(position);
+//        char c = contact.getTag().charAt(0);
+//        String pinyinString= HanZiZhuanPinYin.toPinYin(c);
+//        String s = pinyinString.substring(0, 1).toUpperCase();
+            /**获取名字拼音的首字母*/
+            char c1=cn2Spell.getPinYin(displayContacts.get(position).getName()).charAt(0);
+            if (c1>='a'&&c1<='z'){
+                c1-=32;
+            }
+
+            /**在布局上加数据*/
+            if ( position == 0 ){
+                holder.tv_tag.setText(String.valueOf(c1));
+                holder.tv_tag.setVisibility(View.VISIBLE);
+            }else{
+                Contact contact1 = displayContacts.get(position - 1);
+                char c2 = cn2Spell.getPinYin(contact1.getName()).charAt(0);
+                if (c2>='a'&&c2<='z'){
+                    c2-=32;
+                }
+                if (c1 == c2){
+                    holder.tv_tag.setVisibility(View.INVISIBLE);
+                }else{
+                    holder.tv_tag.setVisibility(View.VISIBLE);
+                    holder.tv_tag.setText(String.valueOf(c1));
+                }
+            }
+            holder.tv_name.setText(displayContacts.get(position).getName());
+            holder.img.setBackground(new ColorUtils(context).getColor(displayContacts.get(position).getName(),R.drawable.circle));
+
+
+            if (mOnItemClickListener!=null){
+                holder.itemView.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        mOnItemClickListener.onItemClick(holder.itemView,displayContacts,position);
+                    }
+                });
+            }
+        }
+
+        @Override
+        public int getItemCount() {
+            return displayContacts.size();
+        }
+
+            /**查找联系人  过滤*/
+        public void filter(String newText) {
+            displayContacts.clear();
+            if (TextUtils.isEmpty(newText)){
+                displayContacts.addAll(CacheContacts);
+            } else if (ischinese(newText.charAt(0))){
+                for (Contact contact:CacheContacts){
+                    if (contact.getName().contains(newText)){
+                        displayContacts.add(contact);
+                    }
+                }
+            }
+            else {
+                for (Contact contact:CacheContacts){
+                    char[] chars = newText.toCharArray();
+                    String p = "";
+                    for (char c:chars){
+                        p+=c+"+.*";
+                    }
+                    Pattern pattern = Pattern.compile(p);
+                    Matcher matcher = pattern.matcher(cn2Spell.getPinYin(contact.getName()));
+                    if (matcher.find()){
+                        displayContacts.add(contact);
+                    }
+                }
+            }
+            notifyDataSetChanged();
+        }
+        private  boolean ischinese(char a){
+            int v = (int) a;
+            return (v>=19968&&v<=171941);
+        }
+
+
+        class MyHolder extends RecyclerView.ViewHolder {
+            public TextView tv_tag,tv_name;
+            public ImageView img;
+
+            public MyHolder(View view) {
+                super(view);
+                tv_tag = (TextView) view.findViewById(R.id.tv_tag);
+                img = (ImageView) view.findViewById(R.id.img_item);
+                tv_name = (TextView) view.findViewById(R.id.tv_name);
+            }
+        }
+    }
+
+
+
+}
+
+
Index: app/src/androidTest/java/com/example/dell/contactsdemo/ApplicationTest.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/androidTest/java/com/example/dell/contactsdemo/ApplicationTest.java	(revision )
+++ app/src/androidTest/java/com/example/dell/contactsdemo/ApplicationTest.java	(revision )
@@ -0,0 +1,13 @@
+package com.example.dell.contactsdemo;
+
+import android.app.Application;
+import android.test.ApplicationTestCase;
+
+/**
+ * <a href="http://d.android.com/tools/testing/testing_android.html">Testing Fundamentals</a>
+ */
+public class ApplicationTest extends ApplicationTestCase<Application> {
+    public ApplicationTest() {
+        super(Application.class);
+    }
+}
\ No newline at end of file
Index: app/src/main/res/values-v21/styles.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values-v21/styles.xml	(revision )
+++ app/src/main/res/values-v21/styles.xml	(revision )
@@ -0,0 +1,9 @@
+<resources>>
+
+    <style name="AppTheme.NoActionBar">
+        <item name="windowActionBar">false</item>
+        <item name="windowNoTitle">true</item>
+        <item name="android:windowDrawsSystemBarBackgrounds">true</item>
+        <item name="android:statusBarColor">@android:color/transparent</item>
+    </style>
+</resources>
Index: app/src/main/res/drawable/rectangle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/rectangle.xml	(revision )
+++ app/src/main/res/drawable/rectangle.xml	(revision )
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+
+<solid android:color="@color/colorPrimary"/>
+
+    <!--<corners android:radius="20dp"/>-->
+
+<size
+android:width="40dp"
+android:height="40dp" />
+    </shape>
\ No newline at end of file
Index: app/src/main/res/layout/update_activity.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/update_activity.xml	(revision )
+++ app/src/main/res/layout/update_activity.xml	(revision )
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <android.support.v7.widget.Toolbar
+        android:layout_width="match_parent"
+        android:layout_height="50dp"
+        android:id="@+id/ud_toolbar"
+        android:theme="@style/AppTheme.AppBarOverlay"
+        app:popupTheme="@style/AppTheme.PopupOverlay"
+        android:background="@color/colorPrimary">
+    </android.support.v7.widget.Toolbar>
+
+    <ImageView
+        android:id="@+id/fab_image"
+        android:layout_width="match_parent"
+        android:layout_height="240dp"
+        android:src="@drawable/ic_person_white_48dp"
+        android:background="@color/google_orange"/>
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal"
+        android:layout_marginTop="20dp">
+        <ImageView
+            android:id="@+id/update_imageview"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:src="@drawable/ic_person_grey_600_24dp"
+            android:layout_gravity="center"
+            android:padding="8dp"/>
+        <EditText
+            android:id="@+id/update_name"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="10dp"
+            android:hint="@string/fab_name"
+
+            />
+    </LinearLayout>
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal"
+        android:layout_marginTop="10dp">
+        <ImageView
+            android:id="@+id/update_imageview2"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:src="@drawable/ic_phone_grey_600_24dp"
+            android:layout_gravity="center"
+            android:padding="8dp"/>
+        <EditText
+            android:id="@+id/update_phone"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="10dp"
+            android:hint="@string/fab_phone"
+            />
+    </LinearLayout>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/menu/menu_detail.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/menu/menu_detail.xml	(revision )
+++ app/src/main/res/menu/menu_detail.xml	(revision )
@@ -0,0 +1,16 @@
+<menu xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto">
+
+    <item
+        android:id="@+id/creat"
+        android:icon="@drawable/ic_create_white_24dp"
+        android:title="creat"
+        app:showAsAction="ifRoom|collapseActionView" />
+    <item
+        android:id="@+id/delete"
+        android:icon="@drawable/ic_delete_white_24dp"
+        android:title="delete"
+        app:showAsAction="ifRoom|collapseActionView" />
+
+
+</menu>
Index: .idea/vcs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/vcs.xml	(revision )
+++ .idea/vcs.xml	(revision )
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="VcsDirectoryMappings">
+    <mapping directory="$PROJECT_DIR$" vcs="Git" />
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/java/com/example/dell/contactsdemo/Utils/ContactUtil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/Utils/ContactUtil.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/Utils/ContactUtil.java	(revision )
@@ -0,0 +1,309 @@
+package com.example.dell.contactsdemo.Utils;
+
+import android.content.ContentProviderOperation;
+import android.content.ContentProviderResult;
+import android.content.ContentResolver;
+import android.content.ContentUris;
+import android.content.ContentValues;
+import android.content.Context;
+import android.database.Cursor;
+import android.net.Uri;
+import android.provider.CallLog;
+import android.provider.ContactsContract;
+import android.provider.ContactsContract.RawContacts.Data;
+import android.text.TextUtils;
+import android.util.Log;
+
+import com.example.dell.contactsdemo.Utils.Cn2Spell;
+import com.example.dell.contactsdemo.entity.Contact;
+
+import net.sourceforge.pinyin4j.PinyinHelper;
+import net.sourceforge.pinyin4j.format.HanyuPinyinCaseType;
+import net.sourceforge.pinyin4j.format.HanyuPinyinOutputFormat;
+import net.sourceforge.pinyin4j.format.HanyuPinyinToneType;
+import net.sourceforge.pinyin4j.format.HanyuPinyinVCharType;
+import net.sourceforge.pinyin4j.format.exception.BadHanyuPinyinOutputFormatCombination;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.Comparator;
+
+/**
+ * Created by dell on 2016/4/11.
+ */
+public class ContactUtil {
+
+//    //当前的TAG标签
+//    public static final String TAG = ContactsManager.class.getSimpleName();
+    //raw_contacts 数据库
+    public static final String RAW_CONTACTS = "content://com.android.contacts/raw_contacts";
+    //data 数据库
+    public static final String CONTACTS_DATA = "content://com.android.contacts/data";
+    //常用联系人 type
+    public static final int USUALLY_TYPE = 10;
+    //所有联系人 type
+    public static final int NORMAL_TYPE = 11;
+    private Context mContext;
+
+    /**
+     * 获取联系人列表
+     *
+     * @param mContext
+     * @param type     NORMAL_TYPE USUALLY_TYPE
+     * @return 返回一个联系人列表集合
+     */
+    public static ArrayList<Contact> getContacts(Context mContext, final int type) {
+        // 汉字转拼音
+        HanyuPinyinOutputFormat format = new HanyuPinyinOutputFormat();
+        format.setCaseType(HanyuPinyinCaseType.LOWERCASE);
+        format.setVCharType(HanyuPinyinVCharType.WITH_V);
+        format.setToneType(HanyuPinyinToneType.WITHOUT_TONE);
+
+        ArrayList<Contact> data = new ArrayList<>();
+        Uri raw_uri = Uri.parse(RAW_CONTACTS);
+        Uri data_uri = Uri.parse(CONTACTS_DATA);
+        //拿到游标对象
+        Cursor raw_cursor = mContext.getContentResolver().query(raw_uri, new String[]{"_id", "phonebook_label", "last_time_contacted"}, null, null, null);
+
+        //判断是否为空
+        if (raw_cursor == null) {
+            //为空直接返回null
+            return data;
+        }
+
+        //判断游标是否含有下一项
+        while (raw_cursor.moveToNext()) {
+            //拿到raw_cursor的id
+            String id = raw_cursor.getString(0);
+            //拿到raw_cursor的phonebook_label
+            String index = raw_cursor.getString(1);
+            String lastTime = raw_cursor.getString(2);
+            //根据 raw_cursor的id 去拿到data表的游标对象
+            Cursor data_cursor = mContext.getContentResolver().query(data_uri, new String[]{"mimetype", "data1"}, "raw_contact_id = ?", new String[]{id}, null);
+            //实例化一个联系人集合
+            Contact contact = new Contact();
+            //判断当前的data的游标对象是否为空
+            if (data_cursor == null) {
+                continue;
+            }
+
+            //判断phonebook_label是否为空，联系人的索引
+            if (!TextUtils.isEmpty(index))
+                contact.setIndex(index);
+
+            if (type == USUALLY_TYPE) {
+                if (!TextUtils.isEmpty(lastTime))
+                    contact.setLastTime(lastTime);
+            }
+
+            //判断data是否含有下一项
+            while (data_cursor.moveToNext()) {
+                //拿到mimetype_id
+                String dataType = data_cursor.getString(0);
+
+                //判断当前的 类型是名称
+                if (dataType.equals("vnd.android.cursor.item/name")) {
+                    //添加到实体里面
+                    if (!TextUtils.isEmpty(data_cursor.getString(1))) {
+                        contact.setName(data_cursor.getString(1));
+                        try {
+                            Cn2Spell.getPinYin(PinyinHelper.toHanYuPinyinString(contact.getName(), format, "", true));
+                        } catch (BadHanyuPinyinOutputFormatCombination badHanyuPinyinOutputFormatCombination) {
+                            badHanyuPinyinOutputFormatCombination.printStackTrace();
+                        }
+                    }
+                }
+
+                //判断当前的类型是 电话号码
+                if (dataType.equals("vnd.android.cursor.item/phone_v2")) {
+                    //添加到实体里面
+                    if (!TextUtils.isEmpty(data_cursor.getString(1)) && !"null".equals(data_cursor.getString(1)))
+                        contact.setPhone(data_cursor.getString(1));
+                }
+
+            }
+
+            switch (type) {
+                case NORMAL_TYPE:
+                    //判断实体三项字段都不为空的情况下 添加到集合里面
+                    if (!TextUtils.isEmpty(contact.getName()) &&
+                            !TextUtils.isEmpty(contact.getPhone()) &&
+                            !TextUtils.isEmpty(contact.getIndex()))
+                        data.add(contact);
+                    break;
+
+                case USUALLY_TYPE:
+                    if (!TextUtils.isEmpty(contact.getName()) &&
+                            !TextUtils.isEmpty(contact.getPhone()) &&
+                            !TextUtils.isEmpty(contact.getIndex()) &&
+                            !TextUtils.isEmpty(contact.getLastTime()))
+                        data.add(contact);
+                    break;
+            }
+
+
+            //TODO 切记关闭不用的游标
+            data_cursor.close();
+        }
+
+        //TODO 关闭游标
+        raw_cursor.close();
+
+        Collections.sort(data, new Comparator<Contact>() {
+            @Override
+            public int compare(Contact lhs, Contact rhs) {
+                if (type == USUALLY_TYPE){
+                    return  rhs.getLastTime().compareTo(lhs.getLastTime());
+                }else{
+                    return lhs.getIndex().compareTo(rhs.getIndex());
+                }
+
+            }
+        });
+
+        Log.d("TAG", data.toString());
+        return data;
+    }
+
+    /***
+     * 添加
+     * 首先向RawContacts.CONTENT_URI执行一个空值插入，目的是获得系统返回的rawContactId
+     * 这时后面插入data表的数据，只有执行空值插入，才能使插入的联系人在通讯录里面可见
+     *
+     * @param mContext
+     * @param contact
+     * @return
+     */
+    public static boolean insertContacts(Context mContext, Contact contact) {
+        //创建一个 存储数值的 HashMap
+        ContentValues values = new ContentValues();
+        boolean nameInsert = false;
+
+        /*
+         * 首先向RawContacts.CONTENT_URI执行一个空值插入，目的是获得系统返回的rawContactId
+         */
+        Uri rawContactUri = mContext.getContentResolver().insert(ContactsContract.RawContacts.CONTENT_URI, values);
+        long rawContactId = ContentUris.parseId(rawContactUri);
+
+        //TODO 往data表里写入姓名数据
+        values.clear();
+        //data表里面 存放raw_conatct_id
+        values.put(ContactsContract.Contacts.Data.RAW_CONTACT_ID, rawContactId);
+        //存放 minetypes 类型 是 <name>
+        values.put(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE); //内容类型
+        //往data表中的 data1 字段中存放 联系人的名字
+        values.put(ContactsContract.CommonDataKinds.StructuredName.DATA1, contact.getName());
+        //存储成功 返回一个在data表中的_id 的uri
+        Uri nameUri = mContext.getContentResolver().insert(ContactsContract.Data.CONTENT_URI, values);
+        if (nameUri != null) {
+            nameInsert = true;
+        }
+
+        //TODO　往data表里写入电话数据 同姓名
+        values.clear();
+        //写入raw_contact_id
+        values.put(ContactsContract.Contacts.Data.RAW_CONTACT_ID, rawContactId);
+        //minetypes 电话类型 phone_v2
+        values.put(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE);
+        //往data表中的 data1 字段中存放 phone 的名字
+        values.put(ContactsContract.CommonDataKinds.Phone.NUMBER, contact.getPhone());
+        //电话的类型 有多种  work home 这里是 mobile
+        values.put(ContactsContract.CommonDataKinds.Phone.TYPE, ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE);
+        //存储成功 返回一个在data表中的_id 的uri
+        Uri phoneUri = mContext.getContentResolver().insert(ContactsContract.Data.CONTENT_URI, values);
+        return nameInsert && phoneUri != null;
+
+    }
+
+    /**
+     * 更新联系人
+     *
+     * @param context
+     * @param oldName      根据旧的名字去查询是哪条数据
+     * @param contact 新的contact实体
+     */
+    public static boolean updateContact(Context context, String oldName, Contact contact) {
+
+        //通过查询data表 根据 raw_contact_id 去查询 data1 为 oldName的 游标对象
+        Cursor cursor = context.getContentResolver().query(ContactsContract.Data.CONTENT_URI, new String[]
+                        {ContactsContract.Contacts.Data.RAW_CONTACT_ID},
+                ContactsContract.Contacts.Data.DATA1 + "=?", new String[]{oldName}, null);
+
+        //将游标移到第一个
+        cursor.moveToFirst();
+        //拿到 raw_contact_id
+        String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.Data.RAW_CONTACT_ID));
+        //关闭游标对象
+        cursor.close();
+        ArrayList<ContentProviderOperation> ops = new ArrayList<>();
+
+
+        //更新电话号码
+        //添加到ops里面
+        ops.add(ContentProviderOperation.newUpdate(ContactsContract.Data.CONTENT_URI)
+                //根据raw_contact_id 和 minetype 和 存储的电话类型去查询
+                .withSelection(
+                        ContactsContract.Contacts.Data.RAW_CONTACT_ID + "=?" + " AND " + ContactsContract.Data.MIMETYPE + " = ?" +
+                                " AND " + ContactsContract.CommonDataKinds.Phone.TYPE + "=?",
+                        new String[]{String.valueOf(id),
+                                ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE,
+                                String.valueOf(ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE)})
+                //修改原来的phone为新的电话号码
+                .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER, contact.getPhone()).build());
+
+
+        // 更新姓名 同修改电话
+        ops.add(ContentProviderOperation.newUpdate(ContactsContract.Data.CONTENT_URI)
+                .withSelection(ContactsContract.Data.RAW_CONTACT_ID + "=?" + " AND " + ContactsContract.Data.MIMETYPE + " = ?",
+                        new String[]{String.valueOf(id), ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE})
+                .withValue(ContactsContract.CommonDataKinds.StructuredName.DATA1, contact.getName()).build());
+
+
+        try {
+            //执行修改 contact 表
+            ContentProviderResult[] contentProviderResults = context.getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);
+            if (contentProviderResults[0] != null) {
+                return true;
+            }
+        } catch (Exception e) {
+//            e.printStackTrace();
+        }
+
+        return false;
+    }
+
+    /**
+     * 删除联系人
+     * <p/>
+     * 根据名字拿到raw_contact_id 然后去删除该条目
+     *
+     * @param context
+     * @param name
+     */
+    public static boolean delContact(Context context, String name) {
+
+        Cursor cursor = context.getContentResolver().query(ContactsContract.Data.CONTENT_URI,
+                new String[]{ContactsContract.Data.RAW_CONTACT_ID},
+                ContactsContract.Contacts.Data.DATA1 + "=?", new String[]{name}, null);
+
+        ArrayList<ContentProviderOperation> ops = new ArrayList<>();
+        cursor.moveToFirst();
+        long Id = cursor.getLong(cursor.getColumnIndex(ContactsContract.Data.RAW_CONTACT_ID));
+        cursor.close();
+        ops.add(ContentProviderOperation.newDelete(
+                ContentUris.withAppendedId(ContactsContract.RawContacts.CONTENT_URI, Id)).build());
+        try {
+            ContentProviderResult[] contentProviderResults = context.getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);
+            if (contentProviderResults[0] != null) {
+                return true;
+            }
+        } catch (Exception e) {
+            e.printStackTrace();
+        }
+
+        return false;
+
+    }
+
+
+}
Index: .gitignore
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .gitignore	(revision )
+++ .gitignore	(revision )
@@ -0,0 +1,8 @@
+*.iml
+.gradle
+/local.properties
+/.idea/workspace.xml
+/.idea/libraries
+.DS_Store
+/build
+/captures
Index: app/src/main/res/values/colors.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/colors.xml	(revision )
+++ app/src/main/res/values/colors.xml	(revision )
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="colorPrimary">#2196F3</color>
+    <color name="colorPrimaryDark">#1976D2</color>
+    <color name="colorAccent">#FF4081</color>
+
+    <color name="google_blue">#ff4285f4</color>
+    <color name="google_blue_highlight">#ff3367d6</color>
+    <color name="google_blue_dark">#ff009587</color>
+    <color name="google_green">#ff0f9d58</color>
+    <color name="google_red">#ffdb4437</color>
+    <color name="google_orange">#ffFD5722</color>
+    <color name="google_yellow">#fff4b400</color>
+    <color name="google_purple">#ff673AB6</color>
+    <color name="google_gray">#989898</color>
+
+
+</resources>
Index: .idea/modules.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/modules.xml	(revision )
+++ .idea/modules.xml	(revision )
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="ProjectModuleManager">
+    <modules>
+      <module fileurl="file://$PROJECT_DIR$/ContactsDemo.iml" filepath="$PROJECT_DIR$/ContactsDemo.iml" />
+      <module fileurl="file://$PROJECT_DIR$/app/app.iml" filepath="$PROJECT_DIR$/app/app.iml" />
+    </modules>
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/java/com/example/dell/contactsdemo/common/CommonFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/common/CommonFragment.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/common/CommonFragment.java	(revision )
@@ -0,0 +1,73 @@
+package com.example.dell.contactsdemo.common;
+
+import android.content.Intent;
+import android.net.Uri;
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v4.app.Fragment;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import com.example.dell.contactsdemo.R;
+import com.example.dell.contactsdemo.Utils.ContactUtil;
+import com.example.dell.contactsdemo.entity.Contact;
+
+
+import java.util.List;
+
+import butterknife.ButterKnife;
+import butterknife.InjectView;
+
+/**
+ * Created by dell on 2016/4/2.
+ */
+public class CommonFragment extends Fragment {
+
+    @InjectView(R.id.common_recyclerview)
+    RecyclerView commonRecyclerview;
+
+    //常用联系人 type
+    public  final int USUALLY_TYPE = 10;
+
+    private CommonAdapter commonAdapter;
+
+
+
+    @Nullable
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        View view = inflater.inflate(R.layout.fragment_common, container, false);
+        ButterKnife.inject(this, view);
+
+        commonAdapter = new CommonAdapter(getActivity(), ContactUtil.getContacts(getContext(), USUALLY_TYPE));
+        commonRecyclerview.setLayoutManager(new LinearLayoutManager(getActivity()));
+        commonRecyclerview.setAdapter(commonAdapter);
+
+        commonAdapter.setOnItemClickListener(new CommonAdapter.OnItemClickListener() {
+            @Override
+            public void onItemClick(View view, List<Contact> datas, int position) {
+                Intent intent = new Intent(Intent.ACTION_DIAL, Uri.parse("tel:" +datas.get(position).getPhone() ));
+                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
+                startActivity(intent);
+            }
+        });
+
+        return view;
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+        commonAdapter.setDatas(ContactUtil.getContacts(getContext(),USUALLY_TYPE));
+    }
+
+    @Override
+    public void onDestroyView() {
+        super.onDestroyView();
+        ButterKnife.reset(this);
+    }
+
+}
Index: .idea/encodings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/encodings.xml	(revision )
+++ .idea/encodings.xml	(revision )
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="Encoding">
+    <file url="PROJECT" charset="UTF-8" />
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/res/values/styles.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/styles.xml	(revision )
+++ app/src/main/res/values/styles.xml	(revision )
@@ -0,0 +1,22 @@
+<resources>
+
+    <!-- Base application theme. -->
+    <style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar">
+        <!-- Customize your theme here. -->
+        <item name="colorPrimary">@color/colorPrimary</item>
+        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
+        <item name="colorAccent">@color/colorAccent</item>
+    </style>
+
+    <style name="AppTheme.NoActionBar">
+        <item name="windowActionBar">false</item>
+        <item name="windowNoTitle">true</item>
+    </style>
+
+    <style name="AppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" />
+
+    <style name="AppBar" parent="Theme.AppCompat.Light.NoActionBar"/>
+
+    <style name="AppTheme.PopupOverlay" parent="ThemeOverlay.AppCompat.Light" />
+
+</resources>
Index: .idea/copyright/profiles_settings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/copyright/profiles_settings.xml	(revision )
+++ .idea/copyright/profiles_settings.xml	(revision )
@@ -0,0 +1,3 @@
+<component name="CopyrightManager">
+  <settings default="" />
+</component>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_all_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_all_item.xml	(revision )
+++ app/src/main/res/layout/fragment_all_item.xml	(revision )
@@ -0,0 +1,33 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="horizontal"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:layout_marginTop="10dp">
+
+    <TextView
+        android:id="@+id/tv_tag"
+        android:layout_width="50dp"
+        android:layout_height="40dp"
+        android:text="aaa"
+        android:textSize="20dp"
+        android:gravity="center"/>
+
+    <ImageView
+        android:scaleType="center"
+        android:background="@drawable/circle"
+        android:src="@drawable/ic_person_white_24dp"
+        android:layout_marginLeft="20dp"
+        android:id="@+id/img_item"
+        android:layout_width="40dp"
+        android:layout_height="40dp" />
+
+    <TextView
+        android:id="@+id/tv_name"
+        android:layout_width="wrap_content"
+        android:layout_height="40dp"
+        android:textSize="17dp"
+        android:layout_marginLeft="20dp"
+        android:gravity="center"/>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/dell/contactsdemo/Utils/ColorUtils.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/Utils/ColorUtils.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/Utils/ColorUtils.java	(revision )
@@ -0,0 +1,61 @@
+package com.example.dell.contactsdemo.Utils;
+
+import android.content.Context;
+import android.content.res.Resources;
+import android.graphics.Color;
+import android.graphics.drawable.Drawable;
+import android.provider.CalendarContract;
+
+import com.example.dell.contactsdemo.R;
+
+/**
+ * Created by dell on 2016/4/9.
+ */
+public class ColorUtils {
+    int color;
+    Context context;
+    static int[] colors = {R.color.google_blue,
+            R.color.google_blue_highlight,
+            R.color.google_green,
+            R.color.google_red,
+            R.color.google_gray,
+            R.color.google_blue_dark,
+            R.color.google_purple,
+            R.color.google_orange,
+            R.color.google_yellow};
+
+    public ColorUtils(Context context) {
+        this.context = context;
+    }
+
+     public  Drawable getColor(String  name,int imgPath){
+         Drawable drawable =context.getResources().getDrawable(imgPath);
+         drawable.setTint(context.getResources().getColor(colors[Math.abs(name.hashCode()) % colors.length]));
+         return  drawable;
+
+    }
+
+//    public  Drawable getColors(String  name){
+//        Drawable drawable =context.getResources().getDrawable(R.drawable.rectangle);
+//        drawable.setTint(context.getResources().getColor(colors[Math.abs(name.hashCode()) % colors.length]));
+//        return  drawable;
+//
+//    }
+    public static int getColors(Resources mResources, String str) {
+        return mResources.getColor(colors[Math.abs(str.hashCode()) % colors.length]);
+    }
+
+    public static int getDarkerColor(int color) {
+        float[] hsv = new float[3];
+        Color.colorToHSV(color, hsv); // convert to hsv
+        // make darker
+        hsv[1] = hsv[1] + 0.1f; // more saturation
+        hsv[2] = hsv[2] - 0.1f; // less brightness
+        return Color.HSVToColor(hsv);
+    }
+/**不分版本的头像颜色*/
+//    Drawable myIcon = getResources().getDrawable( R.drawable.ic_person_add_white_36dp );
+//    ColorFilter filter = new LightingColorFilter( Color.RED, Color.RED );
+//    myIcon.setColorFilter(filter);
+
+}
Index: app/proguard-rules.pro
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/proguard-rules.pro	(revision )
+++ app/proguard-rules.pro	(revision )
@@ -0,0 +1,17 @@
+# Add project specific ProGuard rules here.
+# By default, the flags in this file are appended to flags specified
+# in E:\sdk/tools/proguard/proguard-android.txt
+# You can edit the include path and order by changing the proguardFiles
+# directive in build.gradle.
+#
+# For more details, see
+#   http://developer.android.com/guide/developing/tools/proguard.html
+
+# Add any project specific keep options here:
+
+# If your project uses WebView with JS, uncomment the following
+# and specify the fully qualified class name to the JavaScript interface
+# class:
+#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
+#   public *;
+#}
Index: app/src/main/java/com/example/dell/contactsdemo/common/CommonAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/common/CommonAdapter.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/common/CommonAdapter.java	(revision )
@@ -0,0 +1,82 @@
+package com.example.dell.contactsdemo.common;
+
+import android.content.Context;
+import android.support.v7.widget.RecyclerView;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import com.example.dell.contactsdemo.R;
+import com.example.dell.contactsdemo.Utils.ColorUtils;
+import com.example.dell.contactsdemo.entity.Contact;
+
+import java.util.List;
+
+/**
+ * Created by dell on 2016/4/10.
+ */
+public class CommonAdapter extends RecyclerView.Adapter<CommonHolder> {
+    List<Contact> datas;
+    Context context;
+    public CommonAdapter( Context context, List<Contact> datas) {
+        this.datas = datas;
+        this.context = context;
+    }
+
+    public void  setDatas(List<Contact> setCommondatas){
+        this.datas = setCommondatas;
+        notifyDataSetChanged();
+    }
+
+    @Override
+    public CommonHolder onCreateViewHolder(ViewGroup parent, int viewType) {
+        View view = LayoutInflater.from(context).inflate(R.layout.fragment_common_item, parent, false);
+        CommonHolder holder = new CommonHolder(view);
+        return holder;
+    }
+
+    @Override
+    public void onBindViewHolder(final CommonHolder holder, final int position) {
+        Contact contact = datas.get(position);
+        holder.img_item.setBackground(new ColorUtils(context).getColor(datas.get(position).getName(),R.drawable.circle));
+        holder.common_name.setText(contact.getName());
+
+
+        if (mOnItemClickListener!=null){
+            holder.itemView.setOnClickListener(new View.OnClickListener() {
+                @Override
+                public void onClick(View v) {
+                    mOnItemClickListener.onItemClick(holder.itemView,datas,position);
+                }
+            });
+        }
+    }
+
+    @Override
+    public int getItemCount() {
+        return datas.size();
+    }
+
+    interface OnItemClickListener{
+        void onItemClick(View view , List<Contact> datas,int position);
+
+    }
+    public OnItemClickListener mOnItemClickListener;
+
+    public void setOnItemClickListener(OnItemClickListener listener){
+        this.mOnItemClickListener = listener;
+    }
+}
+
+class CommonHolder extends RecyclerView.ViewHolder {
+    public TextView common_name;
+    public ImageView img_item;
+
+    public CommonHolder(View view) {
+        super(view);
+        img_item = (ImageView) view.findViewById(R.id.img_item);
+        common_name = (TextView) view.findViewById(R.id.common_name);
+    }
+}
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision )
+++ app/src/main/AndroidManifest.xml	(revision )
@@ -0,0 +1,36 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.example.dell.contactsdemo">
+
+    <uses-permission android:name="android.permission.READ_CALL_LOG" />
+    <uses-permission android:name="android.permission.READ_CONTACTS" />
+    <uses-permission android:name="android.permission.WRITE_CONTACTS" />
+
+    <application
+        android:allowBackup="true"
+        android:icon="@mipmap/ic_launcher"
+        android:label="@string/app_name"
+        android:supportsRtl="true"
+        android:theme="@style/AppTheme">
+        <activity
+            android:name=".MainActivity"
+            android:label="@string/app_name"
+            android:theme="@style/AppTheme.NoActionBar">
+            <intent-filter>
+                <action android:name="android.intent.action.MAIN" />
+
+                <category android:name="android.intent.category.LAUNCHER" />
+
+                <action android:name="android.intent.action.VIEW"/>
+                <action android:name="android.intent.action.SEARCH"/>
+            </intent-filter>
+            <meta-data
+                android:name="android.app.searchable"
+                android:resource="@xml/searchable"/>
+        </activity>
+        <activity android:name=".FabActivity"/>
+        <activity android:name=".DetailActivity" />
+        <activity android:name=".UpdateActivity"/>
+    </application>
+
+</manifest>
Index: app/src/main/java/com/example/dell/contactsdemo/DetailActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/dell/contactsdemo/DetailActivity.java	(revision )
+++ app/src/main/java/com/example/dell/contactsdemo/DetailActivity.java	(revision )
@@ -0,0 +1,148 @@
+package com.example.dell.contactsdemo;
+
+import android.content.Context;
+import android.content.Intent;
+import android.net.Uri;
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.CardView;
+import android.support.v7.widget.Toolbar;
+import android.util.Log;
+import android.view.Menu;
+import android.view.MenuItem;
+import android.view.View;
+import android.widget.ImageView;
+import android.widget.TextView;
+import android.widget.Toast;
+
+import com.example.dell.contactsdemo.Utils.ColorUtils;
+import com.example.dell.contactsdemo.Utils.ContactUtil;
+
+import butterknife.ButterKnife;
+import butterknife.InjectView;
+
+/**
+ * Created by dell on 2016/4/11.
+ */
+public class DetailActivity extends AppCompatActivity {
+
+
+    @InjectView(R.id.cardView)
+    CardView cardView;
+    @InjectView(R.id.toolbar)
+    Toolbar toolbar;
+    @InjectView(R.id.tv_name)
+    TextView tvName;
+    @InjectView(R.id.iv_phone)
+    ImageView ivPhone;
+    @InjectView(R.id.tv_tele)
+    TextView tvTele;
+    @InjectView(R.id.iv_sms)
+    ImageView ivSms;
+
+    Context context;
+    private String name;
+    private String phone;
+
+
+    @Override
+    protected void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.detail_activity);
+        ButterKnife.inject(this);
+        toolbar.setNavigationIcon(R.drawable.ic_arrow_back_white_24dp);
+        setSupportActionBar(toolbar);
+        getSupportActionBar().setDisplayShowTitleEnabled(false);
+        context = this;
+
+
+        Intent intent = getIntent();
+        name = intent.getStringExtra("name");
+        phone = intent.getStringExtra("phone");
+        tvName.setText(name);
+        tvTele.setText(phone);
+
+
+        tvName.setBackground(new ColorUtils(context).getColor(name, R.drawable.rectangle));
+        toolbar.setBackground(new ColorUtils(context).getColor(name, R.drawable.rectangle));
+        ivPhone.setBackground(new ColorUtils(context).getColor(name, R.drawable.ic_phone_black_24dp));
+        ivSms.setBackground(new ColorUtils(context).getColor(name, R.drawable.ic_chat_black_24dp));
+
+        cardView.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent intent = new Intent(Intent.ACTION_DIAL, Uri.parse("tel:" + phone));
+                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
+                startActivity(intent);
+            }
+        });
+
+        ivPhone.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent intent = new Intent(Intent.ACTION_DIAL, Uri.parse("tel:" + phone));
+                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
+                startActivity(intent);
+            }
+        });
+
+        ivSms.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent intent = new Intent(Intent.ACTION_SENDTO, Uri.parse("smsto:" + phone));
+                startActivity(intent);
+            }
+        });
+
+        toolbar.setNavigationOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
+            }
+        });
+
+
+
+    }
+
+    public boolean onCreateOptionsMenu(Menu menu) {
+        getMenuInflater().inflate(R.menu.menu_detail, menu);
+        MenuItem delete = menu.findItem(R.id.delete);
+        MenuItem creat = menu.findItem(R.id.creat);
+
+        creat.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {
+            @Override
+            public boolean onMenuItemClick(MenuItem item) {
+                Intent intent = new Intent(context,UpdateActivity.class);
+                intent.putExtra("name",name);
+                intent.putExtra("phone",phone);
+                startActivity(intent);
+                return false;
+            }
+        });
+
+        delete.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {
+            @Override
+            public boolean onMenuItemClick(MenuItem item) {
+                ContactUtil.delContact(context,name);
+                finish();
+                Toast.makeText(context, "删除成功", Toast.LENGTH_SHORT).show();
+                return false;
+            }
+
+        });
+        return super.onCreateOptionsMenu(menu);
+    }
+    @Override
+    protected void onResume() {
+        super.onResume();
+        Log.d("LHD","恢复D");
+        Intent intent = getIntent();
+        name = intent.getStringExtra("name");
+        phone = intent.getStringExtra("phone");
+        tvName.setText(name);
+        tvTele.setText(phone);
+
+    }
+}
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/misc.xml	(revision )
+++ .idea/misc.xml	(revision )
@@ -0,0 +1,46 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="EntryPointsManager">
+    <entry_points version="2.0" />
+  </component>
+  <component name="NullableNotNullManager">
+    <option name="myDefaultNullable" value="android.support.annotation.Nullable" />
+    <option name="myDefaultNotNull" value="android.support.annotation.NonNull" />
+    <option name="myNullables">
+      <value>
+        <list size="4">
+          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.Nullable" />
+          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nullable" />
+          <item index="2" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.Nullable" />
+          <item index="3" class="java.lang.String" itemvalue="android.support.annotation.Nullable" />
+        </list>
+      </value>
+    </option>
+    <option name="myNotNulls">
+      <value>
+        <list size="4">
+          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.NotNull" />
+          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nonnull" />
+          <item index="2" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.NonNull" />
+          <item index="3" class="java.lang.String" itemvalue="android.support.annotation.NonNull" />
+        </list>
+      </value>
+    </option>
+  </component>
+  <component name="ProjectLevelVcsManager" settingsEditedManually="false">
+    <OptionsSetting value="true" id="Add" />
+    <OptionsSetting value="true" id="Remove" />
+    <OptionsSetting value="true" id="Checkout" />
+    <OptionsSetting value="true" id="Update" />
+    <OptionsSetting value="true" id="Status" />
+    <OptionsSetting value="true" id="Edit" />
+    <ConfirmationsSetting value="0" id="Add" />
+    <ConfirmationsSetting value="0" id="Remove" />
+  </component>
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" default="true" assert-keyword="true" jdk-15="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+    <output url="file://$PROJECT_DIR$/build/classes" />
+  </component>
+  <component name="ProjectType">
+    <option name="id" value="Android" />
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/res/drawable/circle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/circle.xml	(revision )
+++ app/src/main/res/drawable/circle.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="oval">
+
+<solid android:color="@color/colorPrimary"/>
+
+    <!--<corners android:radius="20dp"/>-->
+
+<size
+android:width="40dp"
+android:height="40dp" />
+    </shape>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_common.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_common.xml	(revision )
+++ app/src/main/res/layout/fragment_common.xml	(revision )
@@ -0,0 +1,21 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical" android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <TextView
+        android:text="常用联系人"
+        android:textSize="26dp"
+        android:textColor="@color/colorPrimary"
+        android:layout_marginTop="25dp"
+        android:layout_marginLeft="25dp"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content" />
+
+    <android.support.v7.widget.RecyclerView
+        android:id="@+id/common_recyclerview"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content">
+
+    </android.support.v7.widget.RecyclerView>
+</LinearLayout>
\ No newline at end of file
Index: gradle.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>GBK
===================================================================
--- gradle.properties	(revision )
+++ gradle.properties	(revision )
@@ -0,0 +1,17 @@
+## Project-wide Gradle settings.
+#
+# For more details on how to configure your build environment visit
+# http://www.gradle.org/docs/current/userguide/build_environment.html
+#
+# Specifies the JVM arguments used for the daemon process.
+# The setting is particularly useful for tweaking memory settings.
+# Default value: -Xmx10248m -XX:MaxPermSize=256m
+# org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8
+#
+# When configured, Gradle will run in incubating parallel mode.
+# This option should only be used with decoupled projects. More details, visit
+# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects
+# org.gradle.parallel=true
+#Sat Apr 02 17:03:38 CST 2016
+systemProp.http.proxyHost=127.0.0.1
+systemProp.http.proxyPort=8787
